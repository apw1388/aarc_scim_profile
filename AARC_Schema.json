{
    "id": "urn:geant:aarc:scim:schemas:AARCCommunity:User",
    "name": "AARC Community Identity",
    "description": "Attributes to describe a user in the context of his community, as defined by AARC",
    "attributes": [
        {
            "name": "voPersonID", // Under consideration to be replaced by "userName" of scim:schemas:core:2.0:User
            "saml_attribute_name": "voPersonID",
            "saml_attribute_urn": "urn:1.3.6.1.4.1.25178.4.1.6",
            "status": "stable",
            "description": "The User’s Community Identifier is a globally unique, opaque, persistent and non-reassignable identifier that identifies the user. The Community AAI assigns this attribute to a user when they register their Community identity. Relying parties acting as Infrastructure Proxy services MUST pass on the Community User Identifier to their connected services without modifying the value.  A Community AAI SHOULD NOT change the value of the Community User Identifier",
            "type": "string",
            "multiValued": false,
            "required": true,
            "caseExact": true,
            "mutability": "immutable",
            "returned": "request",
            "uniqueness": "global"
        },
        {
                                              // clarify plural
            "name": "voPersonVerifiedEmails", // Under discussion whether it can be moved to scim:core
                                              // Only problem is the missing "verified" attribute in the 
                                              // Core schema. 
                                              // One way out might be, simply adding the attribute in the core
                                              // schema, since this should be legal
            "status": "unstable",
            "description": "Email addresses of the user. Users may have multiple email addresses, some of which were verified. A verified email address means that the Community AAI or the user’s Home IdP has taken affirmative steps to ensure that this email address was controlled by the user at the time the verification was performed.",
            "type": "complex",
            "multiValued": true,
            "required": true,
            "mutability": "readWrite",
            "returned": "default",
            "subAttributes": [
                {
                    "name": "value",
                    "saml_attribute_name": "mail",
                    "saml_attribute_urn": "urn.oid:0.9.2342.19200300.100.1.3",
                    "description": "Email address of the user.",
                    "type": "string",
                    "multiValued": false,
                    "required": true,
                    "caseExact": true,
                    "mutability": "readWrite",
                    "returned": "default",
                    "uniqueness": "none"
                },
                {
                    "name": "email_verified",
                    "saml_attribute_name": "voPersonVerifiedEmail",
                    "saml_attribute_urn": "urn:oid:1.3.6.1.4.1.25178.4.1.14",
                    "description": "The user’s verified email address(es). This attribute can be used to supplement mail.",
                    "type": "boolean",
                    "multiValued": false,
                    "required": false,
                    "mutability": "readWrite",
                    "returned": "default",
                    "uniqueness": "none"
                }
            ]
        },
        {
            "name": "voPersonExternalAffiliation", // clarify plural
            "saml_attribute_name": "voPersonExternalAffiliation",
            "saml_attribute_urn": "urn:oid:1.3.6.1.4.1.25178.4.1.11",
            "status": "unclear",  // clarify
            "description": "One or more home organisations (such as, universities, research institutions or private companies) that this user is affiliated with. The syntax and semantics follows eduPersonScopedAffiliation attribute. Values: (faculty|industry-researcher|member|affiliate|unknown) ",
            "type": "string",
            "multiValued": true,
            "required": true,
            "caseExact": "unclear ;-)",  // clarify
            "mutability": "readWrite",
            "returned": "default",
            "uniqueness": "none"
            // The canonical values can not be scoped, since they have to exist literally or not at all
            //"canonicalValues": ["faculty", "industry-researcher", "member", "affiliate", "unknown" ]
        },
        {
            "name": "eduPersonScopedAffiliation", // clarify plural
            "saml_attribute_name": "urn:oid:1.3.6.1.4.1.5923.1.1.1.9",
            "saml_attribute_urn": "eduPersonScopedAffiliation",
            "status": "unclear",   // clarify
            "description": "Specifies the person's affiliation within the Community/Research infrastructure in broad categories defined in the eduPerson schema.  Any scope (e.g. “community.example.org”) used after the at sign MUST be announced by the Community AAI.",
            "type": "string",
            "multiValued": true,
            "required": true,
            "caseExact": "unclear ;-)",   // clarify
            "mutability": "readWrite",
            "returned": "default",
            "uniqueness": "none"
        },
        {
            "name": "entitlements", // to be replaced by "entitlements" of scim:schemas:core:2.0:User
                                    // Just: core schema has no $ref, still, additional values should be 
                                    // legal
            "status": "stable",
            "description": "This attribute describes the groups this user is a member of in the Community AAI [AARC-G069] and [AARC-G027].",
            "type": "complex",
            "multiValued": true,
            "required": true,
            "mutability": "readWrite",
            "returned": "default",
            "subAttributes": [
                {
                    "name": "value",
                    "saml_attribute_name": "eduPersonEntitlement",
                    "saml_attribute_urn": "urn:oid:1.3.6.1.4.1.5923.1.1.1.7",
                    "description": "This attribute describes the groups this user is a member of in the Community AAI [AARC-G069] and [AARC-G027].",
                    "type": "string",
                    "multiValued": false,
                    "required": true,
                    "caseExact": true,
                    "mutability": "readWrite",
                    "returned": "default",
                    "uniqueness": "none"
                },
                {
                    "name": "$ref",
                    "type": "reference",
                    "multiValued": false,
                    "required": false,
                    "caseExact": true,
                    "referenceTypes": [
                        "User",
                        "Group",
                        "Entitlement"
                    ],
                    "description": "The URI of the corresponding entitlement resource to which the user belongs.",
                    "mutability": "readOnly",
                    "returned": "default",
                    "uniqueness": "none"
                }
            ]
        },
        {
            "name": "eduPersonAssurance", // clarify plural
            "saml_attribute_name": "eduPersonAssurance",
            "saml_attribute_urn": "urn:oid:1.3.6.1.4.1.5923.1.1.1.11",
            "status": "stable",
            "description": "Assurance of the identity of the user, following REFEDS Assurance Framework (RAF) but MAY use additional assurance frameworks.",
            "type": "string",
            "multiValued": true,
            "required": true,
            "caseExact": true,
            "mutability": "readWrite",
            "returned": "default",
            "uniqueness": "none"
        },
        {
            "name": "eduPersonOrcid",
            "saml_attribute_name": "eduPersonOrcid",
            "saml_attribute_urn": "urn:oid:1.3.6.1.4.1.5923.1.1.1.16",
            "status": "stable",
            "description": "urn:oid:1.3.6.1.4.1.5923.1.1.1.16",
            "type": "string",
            "multiValued": false,
            "required": false,
            "caseExact": "to be evaluated", // to be evaluated
            "mutability": "readWrite",
            "returned": "default",
            "uniqueness": "none"
        },
        {
            "name": "preferredUsername",        // not in SAML, still use camelCase?
            "saml_attribute_name": "UNCLEAR",  // clarify
            "saml_attribute_urn": "UNCLEAR",  // clarify
            "status": "stable",
            "description": "Community username is a user selected, human-readable, revocable identifier (i.e. the user can change it). It is intended to be used when a unique identifier needs to be displayed in the user interface (e.g. wikis or Unix accounts).",
            "type": "string",
            "multiValued": false,
            "required": true,
            "caseExact": "to be evaluated", // to be evaluated
            "mutability": "readWrite",
            "returned": "default",
            "uniqueness": "server"
        },
        {
            "name": "sub",
            "saml_attribute_name": "pairwise-id",
            "saml_attribute_urn": "urn:oasis:names:tc:SAML:attribute:pairwise-id",
            "status": "stable",
            "description": "This is a long-lived, non-reassignable, uni-directional identifier suitable for use as a unique external key specific to a particular relying party. Its value for a given subject depends upon the relying party to whom it is given, thus preventing unrelated systems from using it as a basis for correlation.",
            "type": "string",
            "multiValued": false,
            "required": true,
            "caseExact": true,
            "mutability": "readOnly",
            "returned": "default",
            "uniqueness": "server"
        },
        {
            "name": "sshPublicKeys", // clarify plural
            "saml_attribute_name": "sshPublicKey",
            "saml_attribute_urn": "urn:oid:1.3.6.1.4.1.24552.500.1.1.1.13",
            "status": "unclear",  // clarify
            "description": "SSH public key(s) of the user",
            "type": "string",
            "multiValued": true,
            "required": false,
            "caseExact": true,
            "mutability": "readWrite",
            "returned": "default",
            "uniqueness": "none"
        },
        {
            "name": "voperson_certificate_dn",  // to be replaced by "X509Certificates" of scim:schemas:core:2.0:User
            "saml_attribute_name": "voPersonCertificateDN",
            "saml_attribute_urn": "urn:oid:1.3.6.1.4.1.25178.4.1.3",
            "description": "The Subject Distinguished Name(s) of the user’s X.509 certificate(s)",
            "status": "unclear",  // clarify
            "type": "string",
            "multiValued": true,
            "required": false,
            "caseExact": true,
            "mutability": "readWrite",
            "returned": "default",
            "uniqueness": "none"
        },
        {
            "name": "voPersonCertificateIssuerDN", // clarify plural
            "saml_attribute_name": "voPersonCertificateIssuerDN",
            "saml_attribute_urn": "urn:oid:1.3.6.1.4.1.25178.4.1.4",
            "status": "unclear",  // clarify
            "description": "The Subject Distinguished Name(s) of the user’s X.509 certificate issuer(s)",
            "type": "string",
            "multiValued": true,
            "required": false,
            "caseExact": false,
            "mutability": "readWrite",
            "returned": "default",
            "uniqueness": "none"
        }
    ],
    "meta": {
        "resourceType": "Schema",
        "location": "https://aarc-community.org/scim/schemas/urn:geant:aarc:scim:schemas:AARC_Community_Identity"
    }
}
